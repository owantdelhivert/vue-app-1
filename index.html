<!DOCTYPE html>
<html>
<head>
    <title>app 1</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>

<body>

<div id="main">
    <div>
        <h1>Articles</h1>
        <ul class="list-group">
            <li class="list-group-item" v-for="article in articles">{{ article.name }} : {{ article.price }}€ (quantité
                : {{ article.quantite }})
                <button v-on:click="addArticle(article)">Ajouter au panier</button>
            </li>
        </ul>
    </div>

    <h1>Votre panier</h1>

    <p>{{ user.panier }}</p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.5/vue.min.js"></script>
<script>
    var demo = new Vue({
        el: '#main',
        data: {
            articles: [
                {
                    id: 1,
                    name: 'tasse',
                    price: 1.5,
                    quantite: 5,
                }, {
                    id: 2,
                    name: 'verre',
                    price: 0.7,
                    quantite: 3,
                }
            ],
            user:
                {
                    panier: [],
                }

        },
        methods: {
            addArticle: function (article) {
                if (article.quantite > 0) {
                    article.quantite = article.quantite - 1;
                    this.user.panier.push(article);
                } else
                    console.log("Aucun stock pour le produit " + article.name)
            },
            removeArticle: function () {
                //TODO
            },
            totalPricePanier: function () {
                //TODO
            }
        }
    });
</script>
</body>
</html>